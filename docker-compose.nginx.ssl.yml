version: '3.9'

services:
  nginx:
      image: nginx:latest
      container_name: nginx
      ports:
        - ${HTTP_PORT}:${HTTP_PORT}
        - ${HTTPS_PORT}:${HTTPS_PORT}
      #restart: always
      volumes:
        - ./config/nginx/nginx.conf:/etc/nginx/nginx.conf:ro
        - ./config/nginx/ssl/:/etc/nginx/conf.d/:ro
        - ./tls/servers/${SRV_NAME}/:/etc/nginx/ssl/server/:ro
        - ./tls/rootCA/:/etc/nginx/ssl/root/:ro
      environment:
        HTTP_PORT: ${HTTP_PORT}
        HTTPS_PORT: ${HTTPS_PORT}
        TZ: ${TIME_ZONE}
